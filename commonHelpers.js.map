{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import {searchImgs } from '../main';\n\nexport function fetchImg(query) {\n  const BASE_URL = \"https://pixabay.com/api/\"\n  const searchParams = new URLSearchParams({\n    key: '22926721-5d20aa08498ffd1ff2f906542',\n    // key: '42609290-856768105ab9e79485c69bf61',\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${searchParams}`;\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImg } from './js/pixabay-api.js';\n\nlet searchImgs = '';\nlet lightbox;\n\nconst inputfield = document.querySelector('input');\nconst fillForm = document.querySelector('form');\nconst preloader = document.querySelector('.preloader');\n\nconst showLoader = () => {\n  preloader.style.display = 'flex';\n};\n\nconst hideLoader = () => {\n  preloader.style.display = 'none';\n};\n\nconst handleLoad = () => {\n  document.body.classList.add('loaded');\n  document.body.classList.remove('loaded_hiding');\n  lightbox = new SimpleLightbox('.gallery a');\n};\n\nwindow.onload = handleLoad;\n\nfillForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const input = inputfield.value.trim();\n  if (input !== '') {\n    showLoader(); \n    fetchImg(input)\n      .then((photos) => {\n        if (photos.hits.length > 0) {\n          const galleryHTML = photos.hits.map(photo => `<a href=\"${photo.largeImageURL}\"><img src=\"${photo.webformatURL}\" alt=\"${photo.tags}\" /></a>`).join('');\n          document.querySelector('.gallery').innerHTML = galleryHTML;\n          lightbox.refresh();\n        } else {\n          document.querySelector('.gallery').innerHTML = '';\n          iziToast.show({\n            message: 'No images found!',\n            theme: 'dark',\n            progressBarColor: '#FFFFFF',\n            color: '#EF4040',\n            position: 'topRight',\n          });\n        }\n        hideLoader(); \n      })\n      .catch((error) => {\n        console.error(error);\n        hideLoader(); \n        iziToast.error({\n          message: 'Sorry, an error occurred while loading. Please try again!',\n          theme: 'dark',\n          progressBarColor: '#FFFFFF',\n          color: '#EF4040',\n          position: 'topRight',\n        });\n      });\n    fillForm.reset();\n  } else {\n    iziToast.show({\n      message: 'Please complete the field!',\n      theme: 'dark',\n      progressBarColor: '#FFFFFF',\n      color: '#EF4040',\n      position: 'topRight',\n    });\n  }\n});\n\nexport { searchImgs };\n\n"],"names":["fetchImg","query","BASE_URL","searchParams","url","response","lightbox","inputfield","fillForm","preloader","showLoader","hideLoader","handleLoad","SimpleLightbox","event","input","photos","galleryHTML","photo","iziToast","error"],"mappings":"6vBAEO,SAASA,EAASC,EAAO,CAC9B,MAAMC,EAAW,2BACXC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCAEL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAY,GACvC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCZA,IAAIC,EAEJ,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,MAAM,EACxCC,EAAY,SAAS,cAAc,YAAY,EAE/CC,EAAa,IAAM,CACvBD,EAAU,MAAM,QAAU,MAC5B,EAEME,EAAa,IAAM,CACvBF,EAAU,MAAM,QAAU,MAC5B,EAEMG,EAAa,IAAM,CACvB,SAAS,KAAK,UAAU,IAAI,QAAQ,EACpC,SAAS,KAAK,UAAU,OAAO,eAAe,EAC9CN,EAAW,IAAIO,EAAe,YAAY,CAC5C,EAEA,OAAO,OAASD,EAEhBJ,EAAS,iBAAiB,SAAUM,GAAS,CAC3CA,EAAM,eAAc,EACpB,MAAMC,EAAQR,EAAW,MAAM,KAAI,EAC/BQ,IAAU,IACZL,IACAV,EAASe,CAAK,EACX,KAAMC,GAAW,CAChB,GAAIA,EAAO,KAAK,OAAS,EAAG,CAC1B,MAAMC,EAAcD,EAAO,KAAK,IAAIE,GAAS,YAAYA,EAAM,aAAa,eAAeA,EAAM,YAAY,UAAUA,EAAM,IAAI,UAAU,EAAE,KAAK,EAAE,EACpJ,SAAS,cAAc,UAAU,EAAE,UAAYD,EAC/CX,EAAS,QAAO,CAC1B,MACU,SAAS,cAAc,UAAU,EAAE,UAAY,GAC/Ca,EAAS,KAAK,CACZ,QAAS,mBACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UACtB,CAAW,EAEHR,GACR,CAAO,EACA,MAAOS,GAAU,CAChB,QAAQ,MAAMA,CAAK,EACnBT,IACAQ,EAAS,MAAM,CACb,QAAS,4DACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UACpB,CAAS,CACT,CAAO,EACHX,EAAS,MAAK,GAEdW,EAAS,KAAK,CACZ,QAAS,6BACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAChB,CAAK,CAEL,CAAC"}