{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import {searchImgs } from '../main';\n\nexport function fetchImg() {\n  const searchParams = new URLSearchParams({\n    key: '22926721-5d20aa08498ffd1ff2f906542',\n    // key: '42609290-856768105ab9e79485c69bf61',\n    q: searchImgs,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `https://pixabay.com/api/?${searchParams}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImg } from './js/pixabay-api';\n\nlet searchImgs = '';\n\nconst inputfield = document.querySelector('input');\nconst fillForm = document.querySelector('form');\nconst setGallery = document.querySelector('ul.gallery');\n\nconst preloader = document.querySelector('.preloader');\n\nconst showLoader = () => {\n  preloader.style.display = 'flex';\n};\n\nconst hideLoader = () => {\n  preloader.style.display = 'none';\n};\n\nconst handleLoad = () => {\n  document.body.classList.add('loaded');\n  document.body.classList.remove('loaded_hiding');\n};\n\nwindow.onload = handleLoad;\n\nfillForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const input = inputfield.value.trim();\n  \n  console.log('Input value:', input); \n\n  if (input === '') {\n    iziToast.show({\n      message: 'Please complete the field!',\n      theme: 'dark',\n      progressBarColor: '#FFFFFF',\n      color: '#EF4040',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  searchImgs = input;\n\n  showLoader();\n\n  try {\n    const images = await fetchImg(searchImgs);\n    const imgset = images.hits;\n\n    if (!imgset.length) {\n      iziToast.error({\n        color: 'red',\n        message: `‚ùå Sorry, there are no images matching your search query. Please try again!`,\n        position: 'topRight',\n      });\n    } else {\n      renderImgs(imgset);\n    }\n  } catch (error) {\n    console.error(error); \n    iziToast.error({\n      color: 'red',\n      message: `:x: Sorry, there was a mistake. Please try again!`,\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    handleLoad();\n  }\n});\n\nexport { searchImgs };\n"],"names":["fetchImg","url","searchImgs","response","inputfield","fillForm","preloader","showLoader","hideLoader","handleLoad","event","input","iziToast","imgset","error"],"mappings":"svBAEO,SAASA,GAAW,CAUzB,MAAMC,EAAM,4BATS,IAAI,gBAAgB,CACvC,IAAK,qCAEL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,CAEmD,GAEpD,OAAO,MAAMD,CAAG,EAAE,KAAKE,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCbA,IAAID,EAAa,GAEjB,MAAME,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAW,SAAS,cAAc,MAAM,EAC3B,SAAS,cAAc,YAAY,EAEtD,MAAMC,EAAY,SAAS,cAAc,YAAY,EAE/CC,EAAa,IAAM,CACvBD,EAAU,MAAM,QAAU,MAC5B,EAEME,EAAa,IAAM,CACvBF,EAAU,MAAM,QAAU,MAC5B,EAEMG,EAAa,IAAM,CACvB,SAAS,KAAK,UAAU,IAAI,QAAQ,EACpC,SAAS,KAAK,UAAU,OAAO,eAAe,CAChD,EAEA,OAAO,OAASA,EAEhBJ,EAAS,iBAAiB,SAAU,MAAMK,GAAS,CACjDA,EAAM,eAAc,EAEpB,MAAMC,EAAQP,EAAW,MAAM,KAAI,EAInC,GAFA,QAAQ,IAAI,eAAgBO,CAAK,EAE7BA,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,QAAS,6BACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAChB,CAAK,EACD,MACD,CAEDV,EAAaS,EAEbJ,IAEA,GAAI,CAEF,MAAMM,GADS,MAAMb,EAASE,CAAU,GAClB,KAEjBW,EAAO,OAOV,WAAWA,CAAM,EANjBD,EAAS,MAAM,CACb,MAAO,MACP,QAAS,6EACT,SAAU,UAClB,CAAO,CAIJ,OAAQE,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBF,EAAS,MAAM,CACb,MAAO,MACP,QAAS,oDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRJ,IACAC,GACD,CACH,CAAC"}